# esp8266_bme280
ESP8266とBME280を使った簡易気象装置(Arduino環境)

https://thingspeak.com/channels/281837

にて、運用中。

2017年9月と10月の2回のゲリラ降雨と台風の水没で、最初はセンサーが壊れ、次は、esp8266が壊れた。
また、ネット異常のため、接続時に数百回～数千回？ものリトライが、発生したらしく、電池が無くなることが、2回ほどあった。

ソフトウェアは、2017年11月10日に、最新のものにしているが、バージョン番号等が一切入っていない失敗を犯してしまったorz。
次回からは管理していく予定。

現バージョンは、問題の多かったWiFi接続回数をthingspeakにあげている(公開はしていない)。
また、WiFi接続も、#define NETNG_COUNT 50　で現在は50回までリトライをし、それを超えれば、10分間のdeepsleepさせている。

2017年12月23日
電源をCR123Aから、単3サイズのeneloop lite x 3本＋太陽電池をレギュレータADP3338で3V3で使用するよう変更した。
電源観察は、ADP3338のin側をESP8266のA/Dコンバーターに入れて測定している。

2018年12月4日
夏前の台風で、水没故障したので、しばらく放置。
11月下旬に、基板を作り直した。電源は、CR123Aあるいは、モバイルバッテリー（5V) を使用。
4～5月頃に作っていた、簡易な百葉箱を庭先に設置してその中に設置。
試験再開中。

